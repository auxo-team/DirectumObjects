# DrxObjects 
Репозиторий с шаблоном разработки «Объекты Directum RX»

## Описание
### Назначение
- Отчет «Прикладные изменения объекта» - позволяет верхнеуровнево оценить объем модификаций при проведении оценки конвертации Directum RX  
- Отчет «Описание карточки типа сущности» - позволяет сформировать таблицу с описанием свойств типа для использования ее в проектном решении  

### Состав
- Отчет «Прикладные изменения объекта»  
- Отчет «Описание карточки типа сущности»  
- Справочник «Типы сущностей»  
- Справочник «Свойства сущностей»  
  
`Внимание:` Шаблон разработки не содержит перекрытий объектов Sungero.DirectumRX или иных технических решенией

### Права доступа
«Просмотр» - Справочник «Типы сущностей», Справочник «Свойства сущностей»  
«Выполнение» - Отчет «Прикладные изменения объекта», Отчет «Описание карточки типа сущности»  
«Изменение» - редактирование любых записей запрещено, за исключением свойства «Состояние» справочника «Типы сущностей», доступного пользователям входящим в роль «Администраторы»  
«Удаление» - удаление любых записей запрещено  

`Внимание:` По умолчанию, права выдаются роли «Все пользователи»  

### Доступность в клиенте
По умолчанию, справочники решения, вместе с отчетами, не вынесены на обложку модуля и скрыты из поиска.

Для доступа к данным можно воспользоваться одним из вариантов:  
а) В среде разработки, вынести справочники в узел «Отображение» любого модуля  
б) В клиенте Directum настроить «Представление формы» любого модуля (доступно в Directum 4.7 и выше)  
в) Воспользоваться прямыми ссылками на реестры:  
- Для справочника «Типы сущностей» - httpы://{адрес Directum RX}/Client/#/list/89c6dc08-dd81-48e2-a327-707dd86a64cd
- Для справочника «Свойства сущностей» - httpы://{адрес Directum RX}/Client/#/list/cf6c5541-a733-4d30-9810-453454a03811

### Архитектурно неочевидные моменты
Отчет «Прикладные изменения объекта» получает наименования событий и свойств разработки не из метаданных, а из функции GetEventNames().  
В случае отсутствия локализации какого-либо элемента отчета в новых версиях Dirtectum RX, необходимо добавить его наименование в вышеуказанную функцию.

## Порядок установки
Для работы требуется установленный Directum RX версии 4.10 и выше.

## Совместимость
Версии с 4.7 по 4.9 - решение совместимо с даными версиями Directum RX, но целенаправленное выделение отдельных веток репозитория не проводилось  
Версии до 4.6 - требуется адаптация в виду отсутствия идентификаторов с типом long

### Установка для ознакомления
1. Склонировать репозиторий DrxObjects в папку.
2. Указать в _ConfigSettings.xml DDS:
```xml
<block name="REPOSITORIES">
  <repository folderName="Base" solutionType="Base" url="" />
  <repository folderName="RX" solutionType="Base" url="<адрес локального репозитория>" />
  <repository folderName="<Папка из п.1>" solutionType="Work" url="https://github.com/auxo-team/DrxObjects" />
</block>
```

### Установка для использования на проекте
Возможные варианты:

**A. Fork репозитория**
1. Сделать fork репозитория DrxObjects для своей учетной записи.
2. Склонировать созданный в п. 1 репозиторий в папку.
3. Указать в _ConfigSettings.xml DDS:
``` xml
<block name="REPOSITORIES">
  <repository folderName="Base" solutionType="Base" url="" /> 
  <repository folderName="<Папка из п.2>" solutionType="Work" url="https://github.com/auxo-team/DrxObjects" />
</block>
```

**B. Подключение на базовый слой.**

Вариант не рекомендуется, так как при выходе версии шаблона разработки не гарантируется обратная совместимость.
1. Склонировать репозиторий DirectumObjects в папку.
2. Указать в _ConfigSettings.xml DDS:
``` xml
<block name="REPOSITORIES">
  <repository folderName="Base" solutionType="Base" url="" /> 
  <repository folderName="<Папка из п.1>" solutionType="Base" url="<Адрес репозитория gitHub>" />
  <repository folderName="<Папка для рабочего слоя>" solutionType="Work" url="https://github.com/auxo-team/DirectumObjects" />
</block>
```

**C. Копирование репозитория в систему контроля версий.**

Рекомендуемый вариант для проектов внедрения.
1. В системе контроля версий с поддержкой git создать новый репозиторий.
2. Склонировать репозиторий DirectumObjects в папку с ключом `--mirror`.
3. Перейти в папку из п. 2.
4. Импортировать клонированный репозиторий в систему контроля версий командой:

`git push –mirror https://github.com/auxo-team/DirectumObjects`

> [!NOTE]
> Замечания и пожеланию по развитию шаблона разработки фиксируйте через [Issues](https://github.com/auxo-team/DirectumObjects).  
> При оформлении ошибки, опишите сценарий для воспроизведения. Для пожеланий приведите обоснование для описываемых изменений - частоту использования, бизнес-ценность, риски и/или эффект от реализации.  
> Внимание! Изменения будут вноситься только в новые версии.  

